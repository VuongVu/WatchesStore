<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/basePage.xhtml">
                
    <ui:define name="title">
       <title>Address</title>
    </ui:define>
    
    <ui:define name="body-content">
        <!-- MAIN-CONTENT-SECTION START -->
        <section class="main-content-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <!-- BSTORE-BREADCRUMB START -->
                        <div class="bstore-breadcrumb">
                            <a href="index.html">HOMe</a>
                            <span><i class="fa fa-caret-right   "></i></span>
                            <span>Addresses</span>
                        </div>
                        <!-- BSTORE-BREADCRUMB END -->
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h2 class="page-title">Addresses</h2>
                    </div>  
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <!-- SHOPING-CART-MENU START -->
                        <div class="shoping-cart-menu">
                            <ul class="step">
                                <li class="step-todo first step-done">
                                    <span><a href="cart.xhtml">01. Summary</a></span>
                                </li>
                                <li class="step-todo second step-done">
                                    <span><a href="checkout-signin.xhtml">02. Sign in</a></span>
                                </li>
                                <li class="step-current third">
                                    <span>03. Address</span>
                                </li>
                                <li class="step-todo four">
                                    <span>04. Shipping</span>
                                </li>
                                <li class="step-todo last" id="step_end">
                                    <span>05. Payment</span>
                                </li>
                            </ul>                                   
                        </div>
                        <!-- SHOPING-CART-MENU END -->
                    </div>
                    <!-- ADDRESS AREA START --> 
                    <div class="col-lg-5 col-md-5 col-sm-6 col-xs-12">
                        <div class="form-group primary-form-group p-info-group deli-address-group">
                            <!-- <label>Choose a delivery address:</label>
                            <div class="birth-day delivery-address">
                                <select id="deli-address" name="deliveryaddress">
                                    <option value="">Your Office Address</option>
                                    <option value="">Your Office Address</option>
                                    <option value="">Other Address</option>
                                </select>                                               
                            </div> -->
                        </div>  
                        <div class="form-group primary-form-group p-info-group chose-address">
                            <!-- <label class="cheker">
                                <input type="checkbox" name="checkbox"></input>
                                <span></span>
                            </label>
                            <a href="#">Use the delivery address as the billing address.</a> -->
                        </div>                          
                    </div>
                </div>
               <h:panelGroup prependId="false" rendered="#{loginBean.loggedIn==true and cartBean.number!=0}">
                <div class="row">
	                <h:form prependId="false" rendered="#{cartBean.findAllDelivery(loginBean.email).size()!=0}">
		                 <ui:repeat var="delivery" value="#{cartBean.findAllDelivery(loginBean.email)}">
			                 <h:commandLink action="#{cartBean.takeDelivery(delivery)}">
			                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
			                        <div class="first_item primari-box">
			                            <ul class="address">
			                                <li>
			                                    <h3 class="page-subheading box-subheading">
			                                        Use this delivery address
			                                    </h3>
			                                </li>             
					                                <li><span class="address_name">Receiver name: #{delivery.deliveryName}</span></li>
					                                <li><span class="address_company">Address: #{delivery.deliveryAddress}</span></li>
					                                <li><span class="address_phone">Receiver phone: #{delivery.deliveryPhone}</span></li>
				                                
				                                <!-- <li class="update-button">                                
				                                    <a href="my-cart-step-2-info.html">Update<i class="fa fa-chevron-right"></i></a>
				                                </li>   -->   
			                            </ul>   
			                        </div>                                              
			                    </div>
			                    </h:commandLink>
		                    </ui:repeat>
	                    </h:form>
                     	<h:outputText value="You have no address yet, please add new" rendered="#{cartBean.findAllDelivery(loginBean.email).size()==0}"/>
                    <!-- <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                        <div class="second_item primari-box">
                            BILLING ADDRESS START
                            <ul class="address">
                                <li>
                                    <h3 class="page-subheading box-subheading">
                                        Your billing address
                                    </h3>
                                </li>
                                <li><span class="address_name">BootExperts</span></li>
                                <li><span class="address_company">Web development Company</span></li>
                                <li><span class="address_address1">Dhaka</span></li>
                                <li><span class="address_address2">Bonossri</span></li>
                                <li><span class="">Dhaka-1205</span></li>
                                <li><span class="">Rampura</span></li>
                                <li><span class="address_phone">+880 1735161598</span></li>
                                <li><span class="address_phone_mobile">+880 1975161598</span></li>
                                <li class="update-button">
                                    <a href="my-cart-step-2-info.html">Update<i class="fa fa-chevron-right"></i></a>
                                </li>                                   
                            </ul>   
                            BILLING ADDRESS END
                        </div>
                    </div> -->
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="add-new-address">
                            <a class="new-address-link" role="button" data-toggle="collapse" href="#addNewAddress" aria-expanded="false" aria-controls="addNewAddress">Add a new address<i class="fa fa-chevron-right"></i></a>
                            <div class="collapse" id="addNewAddress">
                            <h:form prependId="false">
                                <div class="form-horizontal well">
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Customer name</label>
                                        <div class="col-sm-4">
                                            <h:inputText class="form-control"
                                                   value="#{cartBean.delivery.deliveryName}"
                                                   placeholder="Customer name"
                                                   required="true"
                                                   id="name"/>
                                            <p:message for="name"></p:message>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Phone number</label>
                                        <div class="col-sm-4">
                                            <h:inputText  class="form-control"
                                                   		value="#{cartBean.delivery.deliveryPhone}"
                                                   		required="true"
                                                   		id="phone">
                                              
                                            </h:inputText>
                                            <p:message for="phone"></p:message>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                         <label class="col-sm-2 control-label">City/Province</label>
                                        <div class="col-sm-4">
                                            <h:inputText  class="form-control"
                                                   		value="#{cartBean.address[0]}"
                                                   		required="true"
                                                   		id="city"/>
                                            <p:message for="city"></p:message>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                         <label class="col-sm-2 control-label">District</label>
                                        <div class="col-sm-4">
                                            <h:inputText  class="form-control"
                                                   		value="#{cartBean.address[1]}"
                                                   		required="true"
                                                   		id="district"/>
                                            <p:message for="district"></p:message>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                         <label class="col-sm-2 control-label">Ward</label>
                                        <div class="col-sm-4">
                                            <h:inputText  class="form-control"
                                                   		value="#{cartBean.address[2]}"
                                                   		required="true"
                                                   		id="ward"/>
                                            <p:message for="ward"></p:message>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">Address</label>
                                        <div class="col-sm-4">
                                            <h:inputText class="form-control"
	                                                   value="#{cartBean.address[3]}"
	                                                   required="true"
	                                                   	id="address"/>
                                            <p:message for="address"></p:message>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-sm-offset-2 col-sm-10">
                                            <h:commandButton action="#{cartBean.saveDelivery(loginBean.email)}" value="Proceed checkout" styleClass="btn btn-primary">
                                            	<f:ajax execute="@form" render="@form"></f:ajax>
                                            </h:commandButton>
                                            <h:commandButton value="Cancel" styleClass="btn btn-default" style="margin-left: 130px;">
                                            	<f:ajax render="@form"></f:ajax>
                                            </h:commandButton>
                                            <!-- <button type="submit" class="btn btn-primary">Accept</button> -->
                                            <!-- <button type="submit" class="btn btn-default" style="margin-left: 130px;">Cancel</button> -->
                                        </div>
                                    </div>
                                </div>
                              </h:form>
                            </div>
                        </div>
                        <!-- ADDRESS AREA START --> 
                        <!-- RETURNE-CONTINUE-SHOP START -->
                        <div class="returne-continue-shop ship-address">
                            <a href="index.xhtml" class="continueshoping"><i class="fa fa-chevron-left"></i>Continue shopping</a>
                            <!-- <h:commandLink action="checkout-shipping.xhtml" class="procedtocheckout" rendered="#{customerBean.findCustomerByEmail(loginBean.email).address!=null}">Proceed to checkout<i class="fa fa-chevron-right"></i></h:commandLink>
                            <h:panelGroup rendered="#{customerBean.findCustomerByEmail(loginBean.email).address==null}">
                            	<a class="procedtocheckout" role="button" data-toggle="collapse" href="#addNewAddress" aria-expanded="false" aria-controls="addNewAddress">Proceed to checkout<i class="fa fa-chevron-right"></i></a>
                            </h:panelGroup> -->
                        </div>  
                        <!-- RETURNE-CONTINUE-SHOP END -->      
                    </div>                  
                </div>
                 </h:panelGroup>
            </div>
        </section>
        <!-- MAIN-CONTENT-SECTION END -->
    </ui:define>
</ui:composition>