<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/basePage.xhtml">
                
    <ui:define name="title">
       <title>Search</title>
    </ui:define>
        
    <ui:define name="body-content">
    <h:form>
        <!-- MAIN-CONTENT-SECTION START -->
        <section class="main-content-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <!-- BSTORE-BREADCRUMB START -->
                      
                        <div class="bstore-breadcrumb">
                            <a href="index.xhtml">HOME</a>
                            <span><i class="fa fa-caret-right"></i></span>
                            <span>#{productBean.listFilter.size()!=0?productBean.listFilter.get(0).category.categoryName:null}</span>
                        </div>
                      
                        <!-- BSTORE-BREADCRUMB END -->
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="right-all-product">
                            <!-- PRODUCT-CATEGORY-HEADER START -->
                            <div class="product-category-header">
                                <div class="category-header-image">
                                    <h:graphicImage style="width:100%;height:300px" library="img" name="category-header.jpg" alt="category-header"/>
                                   <!--  <div class="category-header-text">
                                        <h2>Women </h2>
                                        <strong>You will find here all woman fashion collections.</strong>
                                        <p>This category includes all the basics of your wardrobe and much more:<br /> shoes, accessories, printed t-shirts, feminine dresses, women's jeans!</p>
                                    </div>  -->                                 
                                </div>
                            </div>
                            <!-- PRODUCT-CATEGORY-HEADER END -->
                            <div class="product-category-title">
                                <!-- PRODUCT-CATEGORY-TITLE START -->
                                <h1>
                                    <span class="cat-name">#{productBean.listFilter.size()!=0?productBean.listFilter.get(0).category.categoryName:null}</span>
                                    <span class="count-product">There are #{productBean.listSearch.size()} products.</span>
                                </h1>
                                <!-- PRODUCT-CATEGORY-TITLE END -->
                            </div>
                            <div class="product-shooting-area">
                                <div class="product-shooting-bar">
                                    <!-- SHOORT-BY START -->
                                    <div class="shoort-by">
                                    </div>
                                    <!-- SHOORT-BY END -->
                                    <!-- SHOW-PAGE START -->
                                    <div class="show-page">
                                 
                                    </div>
                                    <!-- SHOW-PAGE END -->
                                    <!-- VIEW-SYSTEAM START -->
                                    <div class="view-systeam">
                                        <label for="perPage">View:</label>
                                        <ul>
                                            <li class="active"><a href="#"><i class="fa fa-th-large"></i></a><br />Grid</li>
                                            <!-- <li><a href="shop-list.html"><i class="fa fa-th-list"></i></a><br />List</li> -->
                                        </ul>
                                    </div>
                                    <!-- VIEW-SYSTEAM END -->
                                </div>
                                
                            </div>
                        </div>
                        <!-- ALL GATEGORY-PRODUCT START -->
                        <div class="all-gategory-product">
                            <div class="row">
                                <ul id="list" class="gategory-product"> 
                                    <!-- SINGLE ITEM START -->
                                    <ui:repeat var="product" value="#{productBean.listSearch}">
                                    <li class="gategory-product-list col-lg-3 col-md-4 col-sm-6 col-xs-12">
                                        <div class="single-product-item">
                                            <div class="product-image">
                                                 <h:commandLink action="#{productBean.getProductDetail(product)}">
                                                                        <h:graphicImage value="/DisplayImage?productId=#{product.productId}" 
                                                                                        style="height:190px;border:1px solid;"
                                                                                        alt="product-image" />
                                                  </h:commandLink>
                                                <div class="overlay-content">
                                                    <ul>
                                                       	<li>
                                                           <h:commandLink action="#{productBean.takeModalProduct(product.productId)}"  a:data-toggle="modal" a:data-target="#myModal" a:title="Zoom in"><i class="fa fa-search-plus"></i>
					                                       		<f:ajax render="productImage"></f:ajax>
					                                       </h:commandLink>
					                                    </li>
                                                        <li>
						                                     <h:commandLink action="#{cartBean.addToCart(product,1)}" a:title="Add to cart"> <i class="fa fa-plus"></i>
						                                          <f:ajax execute="@form" render="cartForm"></f:ajax>
						                                	 </h:commandLink>
					                                    </li>
					                                    <li>
					                                        <h:commandLink action="#{cartBean.buyNow(product,1)}" a:title="Buy now"> <i class="fa fa-shopping-cart"></i>
					                                             <f:ajax execute="@form" render="cartForm"></f:ajax>
					                                        </h:commandLink>
					                                    </li>
					                                    <li>
						                                     <h:commandLink action="#{productBean.takeModalProduct(product.productId)}"  a:data-toggle="modal" a:data-target="#detailModal" a:title="Quick view"><i class="fa fa-edit"></i>
						                                          <f:ajax render="productModal"></f:ajax>
						                                     </h:commandLink>
					                                    </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="product-info">
                                                <div class="customar-comments-box">
                                                    <div class="rating-box">
                                                       <p:rating value="#{commentBean.getRating(product)}" cancel="false" readonly="true"></p:rating>
                                                    </div>
                                                    <div class="review-box">
                                                        <!-- <span>1 Review(s)</span> -->
                                                    </div>
                                                </div>
                                                <!-- <a href="single-product.html">#{product.productName}</a> -->
                                                <h:commandLink action="#{productBean.getProductDetail(product)}" value="#{product.productName}" />
                                                <div class="price-box">
                                                    <span class="price">$#{product.productPrice-(product.productPrice*(product.productDiscount/100))}</span>
                                                    <h:outputText value="$#{product.productPrice}" styleClass="old-price" rendered="#{product.productDiscount!=0}"></h:outputText>
                                                </div>
                                            </div>
                                        </div>                                  
                                    </li>
                                    </ui:repeat>
                                    <center><input id="loadMore" value="Load More" type="button" /></center>
                                    <input type="hidden" id="size" value="#{productBean.listSearch.size()}" />
                                    <h:outputScript target="head">
	                                        var list_size = $('#size').val();
	                                        var x;
	                                        if (list_size &gt;= 5) {
										        x = 5;
										    } else {
										        x = list_size;
										    };
										    
										    $('#list li:lt(x)').css('display','none');
										    $('#loadMore').click(function () {
										        if (x + 5 &lt;= list_size){
										           x = x + 5;
										        } else { 
										           x = list_size;
										        }
										        $('#list li:lt(x)').show();
										    });
                                    </h:outputScript>                         
                                </ul>   
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- MAIN-CONTENT-SECTION END -->
        </h:form>
    </ui:define>
    
</ui:composition>